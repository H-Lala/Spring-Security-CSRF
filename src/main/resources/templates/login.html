<html xmlns:th="https://www.thymeleaf.org">
<beans:beans xmlns="http://www.springframework.org/schema/security" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:beans="http://www.springframework.org/schema/beans"
             xsi:schemaLocation="
		http://www.springframework.org/schema/security
        http://www.springframework.org/schema/security/spring-security-4.2.xsd
		http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans-4.3.xsd"
>
    <http use-expressions="true">
        <intercept-url pattern="/login" access="permitAll"/>
        <intercept-url pattern="/**" access="isAuthenticated()"/>
        <form-login authentication-success-handler-ref="refererHandler" />
    </http>
    <beans:bean
            class="RefererRedirectionAuthenticationSuccessHandler"
            name="refererHandler"/>
<head >
    <title>Please Login</title>
</head>
<body>
<div th:fragment="content">
    <form name="f" th:action="@{/login}" method="post">
        <fieldset>
            <legend>Please Login</legend>
            <label for="username">Username</label>
            <input type="text" id="username" name="username"/>
            <br>
            <br>
            <label for="password">Password</label>
            <input type="password" id="password" name="password"/>
            <br>
            <div class="form-actions">
                <button type="submit" class="btn">Log in</button>
            </div>
            <br>
            <p>
                Remember Me?
                <input type="checkbox" id="remember-me" name="remember-me" class="form-control" >
            </p>
        </fieldset>
    </form>
</div>
</body>
</html>